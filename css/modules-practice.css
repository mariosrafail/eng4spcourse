/* Practice (Tab V) */
.tab-btn[data-tab="practice"],
.tab-btn[data-tab="m1_practice"]{background: rgba(126,78,58,.14);}
.tab-btn[data-tab="practice"].is-active,
.tab-btn[data-tab="m1_practice"].is-active{box-shadow: 0 0 0 2px rgba(126,78,58,.35) inset;}

/* Tab V header accents */
#tabPractice .week-chip{
  border-color: rgba(126,78,58,.40);
  background: rgba(126,78,58,.10);
  color: rgba(126,78,58,.95);
}

#tab3Practice .week-chip{
  border-color: rgba(126,78,58,.40);
  background: rgba(126,78,58,.10);
  color: rgba(126,78,58,.95);
}

#tabPractice .unit-title{
  color: rgba(126,78,58,.98);
}

#tab3Practice .unit-title{
  color: rgba(126,78,58,.98);
}

#tab4Practice .unit-title{
  color: rgba(126,78,58,.98);
}

#tabPractice .unit-icon{
  background: rgba(126,78,58,.10);
  border-color: rgba(126,78,58,.28);
  color: rgba(126,78,58,.95);
}

#tab3Practice .unit-icon{
  background: rgba(126,78,58,.10);
  border-color: rgba(126,78,58,.28);
  color: rgba(126,78,58,.95);
}

#tab4Practice .unit-icon{
  background: rgba(126,78,58,.10);
  border-color: rgba(126,78,58,.28);
  color: rgba(126,78,58,.95);
}

#tab3Practice .practice-instructions{
  border-color: rgba(126,78,58,.42);
  background: rgba(126,78,58,.16);
}

#tab4Practice .practice-instructions{
  border-color: rgba(126,78,58,.42);
  background: rgba(126,78,58,.16);
}

#tab3Practice .practice-instr-title{
  color: rgba(126,78,58,.98);
}

#tab4Practice .practice-instr-title{
  color: rgba(126,78,58,.98);
}

#tab3Practice .practice-instr-text{
  color: rgba(96,57,41,.98);
}

#tab4Practice .practice-instr-text{
  color: rgba(96,57,41,.98);
}

#tab3Practice .practice-actions .btn.ghost{
  background: rgba(126,78,58,.12);
  border-color: rgba(126,78,58,.42);
  color: rgba(96,57,41,.98);
}

#tab4Practice .practice-actions .btn.ghost{
  background: rgba(126,78,58,.12);
  border-color: rgba(126,78,58,.42);
  color: rgba(96,57,41,.98);
}

#tab3Practice .practice-actions .btn.ghost:hover{
  background: rgba(126,78,58,.20);
  border-color: rgba(126,78,58,.56);
}

#tab4Practice .practice-actions .btn.ghost:hover{
  background: rgba(126,78,58,.20);
  border-color: rgba(126,78,58,.56);
}

#tab3Practice .practice-actions .btn.ghost:active{
  background: rgba(126,78,58,.28);
}

#tab4Practice .practice-actions .btn.ghost:active{
  background: rgba(126,78,58,.28);
}

/* Module 3 - Second Hour - VI. Learning Recall (red + practice-like layout) */
#tab3Hour2Recall .practice-card{
  border-color: rgba(var(--theme-red-rgb), .36);
  background: rgba(255,255,255,.88);
}

#tab3Hour2Recall .practice-instructions{
  border-color: rgba(var(--theme-red-rgb), .34);
  background: rgba(var(--theme-red-rgb), .10);
}

#tab3Hour2Recall .practice-bank{
  background: rgba(var(--theme-red-rgb), .10);
  border-color: rgba(var(--theme-red-rgb), .22);
}

#tab3Hour2Recall .token{
  border-color: rgba(var(--theme-red-rgb), .30);
}

#tab3Hour2Recall .practice-qs li{
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 14px;
}

#tab3Hour2Recall .blank{
  width: 420px;
  min-width: 420px;
  max-width: 420px;
  min-height: 52px;
  border-radius: 16px;
  margin-left: auto;
  padding: 4px;
}

@media (max-width: 860px){
  #tab3Hour2Recall .practice-qs li{
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  #tab3Hour2Recall .blank{
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    margin-left: 0;
  }
}

/* Practice card in Listening-like layout */
.practice-card{
  border: 2px solid rgba(126,78,58,.35);
  background: rgba(255,255,255,.86);
  border-radius: 22px;
  padding: 14px;
  box-shadow: var(--shadow);
}

.sticky-card[data-theme="brown"]{
  border-color: rgba(126,78,58,.35);
  background: rgba(255,255,255,.72);
}

.sticky-card[data-theme="brown"] .card-title{
  color: rgba(126,78,58,.95);
}


.practice-instructions{
  border: 2px solid rgba(126,78,58,.30);
  background: rgba(126,78,58,.10);
  border-radius: 16px;
  padding: 12px 14px;
  margin-bottom: 12px;
}
.practice-instr-title{
  font-weight: 800;
  letter-spacing: .3px;
  color: rgba(126,78,58,.95);
  margin-bottom: 4px;
}
.practice-instr-text{
  color: rgba(28,27,34,.92);
}

.practice-bank{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  align-content: flex-start;
  padding: 10px 10px;
  border-radius: 14px;
  background: rgba(126,78,58,.12);
  border: 2px solid rgba(126,78,58,.18);
  margin: 10px 0 14px 0;
}


.token{
  user-select: none;
  padding: 8px 12px;
  border-radius: 999px;
  border: 2px solid rgba(126,78,58,.25);
  background: rgba(255,255,255,.90);
  color: rgba(28,27,34,.92);
  font-weight: 700;
  cursor: grab;
  transition: transform .16s ease, box-shadow .16s ease;
  transform-origin: center;
}
.token:hover{
  transform: scale(1.04);
  box-shadow: 0 8px 16px rgba(30,18,60,.14);
}
.token:active{
  cursor: grabbing;
  transform: scale(.96);
}
.token.is-dragging{
  transform: scale(.92);
  box-shadow: 0 14px 26px rgba(30,18,60,.22);
  z-index: 2;
}

.practice-qs{
  margin: 0;
  padding-left: 20px;
  color: rgba(28,27,34,.92);
  line-height: 1.8;
  font-weight: 700;
}

/* Keep drag-drop layouts stable: no surrounding shift on drop */
#tabPractice .practice-bank{
  min-height: 70px;
}

#tab3Practice .practice-bank{
  min-height: 70px;
}

#tabHour2Writing #h2wBank{
  min-height: 74px;
}

#tab4Hour2Writing #h2wBank{
  min-height: 74px;
}

#tabSpeaking .speaking-bank{
  min-height: 120px;
}

#tabHour2Keywords .h2kw-bank{
  min-height: 120px;
}

#tab4Hour2Keywords .h2kw-bank{
  min-height: 120px;
}

#tabPractice .practice-card,
#tab3Practice .practice-card,
#tabSpeaking .practice-card,
#tabHour2Keywords .practice-card,
#tab4Hour2Keywords .practice-card,
#tabHour2Writing .writing-card,
#tab4Hour2Writing .writing-card,
#tabPractice .practice-bank,
#tab3Practice .practice-bank,
#tabSpeaking .practice-bank,
#tabHour2Keywords .practice-bank,
#tab4Hour2Keywords .practice-bank,
#tabHour2Writing #h2wBank,
#tab4Hour2Writing #h2wBank,
#tabPractice .practice-qs li,
#tab3Practice .practice-qs li,
#tabSpeaking .practice-qs li,
#tabHour2Keywords .practice-qs li,
#tab4Hour2Keywords .practice-qs li,
#tabHour2Writing .writing-gap-text,
#tab4Hour2Writing .writing-gap-text,
#tabPractice .blank,
#tab3Practice .blank,
#tabSpeaking .blank,
#tabHour2Keywords .blank,
#tab4Hour2Keywords .blank,
#tabHour2Writing .writing-gap-text .blank{
  transition: none !important;
  animation: none !important;
}

#tab4Hour2Writing .writing-gap-text .blank{
  transition: none !important;
  animation: none !important;
}

.blank{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  margin: 0 6px;
  border-radius: 999px;
  border: 2px dashed rgba(126,78,58,.40);
  background: rgba(255,255,255,.70);
  vertical-align: middle;
  background: rgba(126,78,58,.12);
}
.blank.is-over{
  background: rgba(126,78,58,.12);
  border-color: rgba(126,78,58,.70);
  box-shadow: 0 0 0 4px rgba(126,78,58,.12);
}

.blank .token{
  cursor: grab;
  margin: 0;
}

/* Keep DnD answers readable: fixed blank width, token fits inside without stretching the blank */
#tabPractice .blank{
  width: 140px;
  min-width: 140px;
  max-width: 140px;
  min-height: 42px;
  padding: 4px 6px;
  border-radius: 999px;
  transition: none !important;
  animation: none !important;
}

#tab3Practice .blank{
  width: 140px;
  min-width: 140px;
  max-width: 140px;
  min-height: 42px;
  padding: 4px 6px;
  border-radius: 999px;
  border-color: rgba(126,78,58,.46);
  background: rgba(126,78,58,.16);
  transition: none !important;
  animation: none !important;
}

#tab3Practice.drag-from-bank .blank,
#tab3Practice.drag-from-blank .blank{
  border-color: rgba(126,78,58,.62);
  box-shadow: 0 0 0 4px rgba(126,78,58,.12);
}

#tab3Practice .blank.is-over{
  background: rgba(126,78,58,.20);
  border-color: rgba(126,78,58,.82);
  box-shadow: 0 0 0 5px rgba(126,78,58,.18);
}

#tabPractice .blank .token{
  width: 100%;
  max-width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 6px 8px;
  border-radius: 999px;
}

#tab3Practice .blank .token{
  width: 100%;
  max-width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 6px 8px;
  border-radius: 999px;
}
#tabPractice .blank .token,
#tabPractice .blank .token:hover,
#tabPractice .blank .token:active,
#tabPractice .blank .token.is-dragging{
  transform: none !important;
}

#tab3Practice .blank .token,
#tab3Practice .blank .token:hover,
#tab3Practice .blank .token:active,
#tab3Practice .blank .token.is-dragging{
  transform: none !important;
}

#tabPractice .blank.cap-word .token{
  text-transform: capitalize;
}

#tab3Practice .blank.cap-word .token{
  text-transform: capitalize;
}


.practice-actions{
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 14px;
  flex-wrap: wrap;
}
.practice-feedback{
  margin-left: auto;
  font-weight: 800;
  color: rgba(28,27,34,.85);
}

.blank.is-correct{border-style: solid; border-color: rgba(18,133,77,.70); background: rgba(18,133,77,.20);}
.blank.is-wrong{border-style: solid; border-color: rgba(209,42,42,.70); background: rgba(209,42,42,.20);}

/* Module 3 - Useful Language Activity 2 (purple + speaking-like layout) */
#tab3Exercise .m3a2-card{
  border-color: rgba(var(--theme-purple-rgb), .36);
  background: rgba(255,255,255,.88);
}

#tab4Exercise .m4ul-a2-card{
  border-color: rgba(var(--theme-purple-rgb), .36);
  background: rgba(255,255,255,.88);
}

#tab3Exercise .practice-card{
  border-color: rgba(var(--theme-purple-rgb), .36);
}

#tab4Exercise .practice-card{
  border-color: rgba(var(--theme-purple-rgb), .36);
}

#tab5Exercise .practice-card{
  border-color: rgba(var(--theme-purple-rgb), .36);
}

#tab5Keywords .practice-card{
  border-color: rgba(var(--theme-blue-rgb), .36);
}

#tab5Keywords .practice-instructions{
  border-color: rgba(var(--theme-blue-rgb), .30);
  background: rgba(var(--theme-blue-rgb), .10);
}

#tab5Keywords .practice-instr-title{
  color: rgba(47,79,138,.95);
}

#tab5Keywords .practice-bank{
  background: rgba(var(--theme-blue-rgb), .12);
  border-color: rgba(var(--theme-blue-rgb), .18);
}

#tab3Exercise .practice-card .practice-instructions{
  border-color: rgba(var(--theme-purple-rgb), .34);
  background: rgba(var(--theme-purple-rgb), .12);
}

#tab4Exercise .practice-card .practice-instructions{
  border-color: rgba(var(--theme-purple-rgb), .34);
  background: rgba(var(--theme-purple-rgb), .12);
}

#tab5Exercise .practice-card .practice-instructions{
  border-color: rgba(var(--theme-purple-rgb), .34);
  background: rgba(var(--theme-purple-rgb), .12);
}

#tab3Exercise .practice-card .practice-instr-title{
  color: rgba(95,74,167,.98);
}

#tab4Exercise .practice-card .practice-instr-title{
  color: rgba(95,74,167,.98);
}

#tab5Exercise .practice-card .practice-instr-title{
  color: rgba(95,74,167,.98);
}

#tab3Exercise .m3a2-card .practice-instructions{
  border-color: rgba(var(--theme-purple-rgb), .34);
  background: rgba(var(--theme-purple-rgb), .12);
}

#tab4Exercise .m4ul-a2-card .practice-instructions{
  border-color: rgba(var(--theme-purple-rgb), .34);
  background: rgba(var(--theme-purple-rgb), .12);
}

#tab3Exercise .m3a2-card .practice-instr-title{
  color: rgba(95,74,167,.98);
}

#tab4Exercise .m4ul-a2-card .practice-instr-title{
  color: rgba(95,74,167,.98);
}

#tab3Exercise .m3a2-card .practice-bank{
  background: rgba(var(--theme-purple-rgb), .12);
  border-color: rgba(var(--theme-purple-rgb), .24);
}

#tab4Exercise .m4ul-a2-card .practice-bank{
  background: rgba(var(--theme-purple-rgb), .12);
  border-color: rgba(var(--theme-purple-rgb), .24);
}

#tab3Exercise .m3a2-card .token{
  border-color: rgba(var(--theme-purple-rgb), .34);
}

#tab4Exercise .m4ul-a2-card .token{
  border-color: rgba(var(--theme-purple-rgb), .34);
}

#tab3Exercise .m3a2-qs li{
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 14px;
}

#tab4Exercise .m4ul-a2-qs li{
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 14px;
}

#tab3Exercise .m3a2-qs .blank{
  width: 420px;
  min-width: 420px;
  max-width: 420px;
  min-height: 52px;
  border-radius: 16px;
  border-color: rgba(var(--theme-purple-rgb), .45);
  background: rgba(var(--theme-purple-rgb), .10);
  margin-left: auto;
  padding: 4px;
}

#tab4Exercise .m4ul-a2-qs .blank{
  width: 420px;
  min-width: 420px;
  max-width: 420px;
  min-height: 52px;
  border-radius: 16px;
  border-color: rgba(var(--theme-purple-rgb), .45);
  background: rgba(var(--theme-purple-rgb), .10);
  margin-left: auto;
  padding: 4px;
}

#tab3Exercise.drag-from-bank .m3a2-qs .blank,
#tab3Exercise.drag-from-blank .m3a2-qs .blank{
  border-color: rgba(var(--theme-purple-rgb), .62);
  box-shadow: 0 0 0 4px rgba(var(--theme-purple-rgb), .12);
}

#tab4Exercise.drag-from-bank .m4ul-a2-qs .blank,
#tab4Exercise.drag-from-blank .m4ul-a2-qs .blank{
  border-color: rgba(var(--theme-purple-rgb), .62);
  box-shadow: 0 0 0 4px rgba(var(--theme-purple-rgb), .12);
}

#tab3Exercise .m3a2-qs .blank.is-over{
  border-color: rgba(var(--theme-purple-rgb), .82);
  background: rgba(var(--theme-purple-rgb), .18);
  box-shadow: 0 0 0 5px rgba(var(--theme-purple-rgb), .18);
}

#tab4Exercise .m4ul-a2-qs .blank.is-over{
  border-color: rgba(var(--theme-purple-rgb), .82);
  background: rgba(var(--theme-purple-rgb), .18);
  box-shadow: 0 0 0 5px rgba(var(--theme-purple-rgb), .18);
}

@media (max-width: 860px){
  #tab3Exercise .m3a2-qs li{
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  #tab4Exercise .m4ul-a2-qs li{
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  #tab3Exercise .m3a2-qs .blank{
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    margin-left: 0;
  }

  #tab4Exercise .m4ul-a2-qs .blank{
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    margin-left: 0;
  }
}


