/* Instruction color system by section theme */

/* Default instruction accent */
:root{
  --instr-accent-rgb: var(--theme-purple-rgb);
  --instr-accent-ink-rgb: 95,74,167;
}

#tab3Exercise .m3a2-card{
  --instr-accent-rgb: var(--theme-purple-rgb);
  --instr-accent-ink-rgb: 95,74,167;
}

#tab4Exercise .m4ul-a2-card{
  --instr-accent-rgb: var(--theme-purple-rgb);
  --instr-accent-ink-rgb: 95,74,167;
}

/* Panel/theme mapping */
#tabPractice,
#tab3Practice,
#tab4Practice,
#tab1Practice,
#tab6Practice,
#tab7Practice{
  --instr-accent-rgb: var(--theme-brown-rgb);
  --instr-accent-ink-rgb: 126,78,58;
}

#tabHour2Recall,
#tab1Hour2Recall,
#tab5Hour2Recall,
#tab6Hour2Recall,
#tab7Hour2Recall,
[data-panel="h2_recall"],
[data-panel="m1_h2_recall"]{
  --instr-accent-rgb: var(--theme-red-rgb);
  --instr-accent-ink-rgb: 183,52,73;
}

#tab3Hour2Recall{
  --instr-accent-rgb: var(--theme-red-rgb);
  --instr-accent-ink-rgb: 183,52,73;
}

#tabHour2Recall[data-panel="m1_h2_recall"],
[data-panel="m1_h2_recall"]{
  --instr-accent-rgb: var(--theme-red-rgb);
  --instr-accent-ink-rgb: 183,52,73;
}

#tabSpeaking,
#tab3Speaking,
#tab4Speaking,
#tab1Speaking,
#tab7Speaking,
#tab5Practice,
#tab8Exercise,
#tab8Keywords,
#tab8Speaking,
#tab5Revision,
#tabHour2Writing,
#tab3Hour2Writing,
#tab4Hour2Writing,
#tab1Hour2Writing,
#tab5Hour2Writing,
#tab6Hour2Writing,
#tab7Hour2Writing,
#tab8Hour2Writing,
#tabRevision,
#tab3Revision,
#tab1Revision,
#tab6Revision,
#tab7Revision{
  --instr-accent-rgb: var(--theme-green-rgb);
  --instr-accent-ink-rgb: 47,107,87;
}

#tabHour2Keywords,
#tab3Hour2Keywords,
#tab4Hour2Keywords,
#tab1Hour2Keywords,
#tab5Hour2Keywords,
#tab6Hour2Keywords,
#tab7Hour2Keywords,
#tab6Hour2Reading,
#tabKeywords,
#tab3Keywords,
#tab4Keywords,
#tab1Keywords,
#tab5Keywords,
#tab6Keywords,
#tab7Keywords{
  --instr-accent-rgb: var(--theme-blue-rgb);
  --instr-accent-ink-rgb: 47,79,138;
}

#tabReading,
#tab3Reading,
#tab4Reading,
#tab1Reading,
#tab6Reading,
#tab7Reading,
#tabHour2Reading,
#tab3Hour2Reading,
#tab4Hour2Reading,
#tab1Hour2Reading,
#tab5Hour2Reading,
#tab6Hour2Reading2,
#tab7Hour2Reading{
  --instr-accent-rgb: var(--theme-red-rgb);
  --instr-accent-ink-rgb: 123,59,82;
}

#tab8Hour2Reading{
  --instr-accent-rgb: var(--theme-red-rgb);
  --instr-accent-ink-rgb: 123,59,82;
}

#tabListening,
#tab3Listening,
#tab1Listening,
#tabHour2Listening,
#tab3Hour2Listening,
#tab4Hour2Listening,
#tab4Listening,
#tab1Hour2Listening,
#tab5Listening,
#tab5Hour2Exercise,
#tab6Listening,
#tab6Hour2Listening,
#tab7Listening,
#tab7Hour2Listening,
#tab8Listening,
#tab8Hour2Listening{
  --instr-accent-rgb: var(--theme-listening-rgb);
  --instr-accent-ink-rgb: 140,91,150;
}

#tabMockListening1,
#tabMockListening2,
#tabMockReading,
#tabMockReadingB,
#tabMockWriting{
  --instr-accent-rgb: var(--theme-olive-rgb);
  --instr-accent-ink-rgb: 85,107,63;
}

/* Apply accent to instruction labels/titles */
:is(.tab-panel, [data-panel]) .sticky-card .card-title,
:is(.tab-panel, [data-panel]) .practice-instr-title,
:is(.tab-panel, [data-panel]) .writing-instr-title,
:is(.tab-panel, [data-panel]) .kw-instr-title,
:is(.tab-panel, [data-panel]) .reading-instr-inline strong,
:is(.tab-panel, [data-panel]) .h2kw-instr-label{
  color: rgba(var(--instr-accent-ink-rgb), .95) !important;
}

/* Keep all INSTRUCTIONS labels at a consistent, compact size across sections. */
:is(.tab-panel, [data-panel]) :is(.sticky-card .card-title, .practice-instr-title, .writing-instr-title, .kw-instr-title, .reading-instr-inline strong){
  font-size: 16px !important;
  line-height: 1.2;
}

/* In inline reading instruction boxes, force text to start on next line after INSTRUCTIONS. */
:is(.tab-panel, [data-panel]) .reading-instr-inline strong{
  display: block;
  margin-bottom: 4px;
}

/* Instruction containers get subtle border tint */
:is(.tab-panel, [data-panel]) .sticky-card,
:is(.tab-panel, [data-panel]) .practice-instructions,
:is(.tab-panel, [data-panel]) .writing-instructions,
:is(.tab-panel, [data-panel]) .reading-instr-inline,
:is(.tab-panel, [data-panel]) .kw-instructions{
  border-color: rgba(var(--instr-accent-rgb), .35) !important;
}

/* Action buttons (Submit/Reset/Clear): white fill + themed border */
:is(.tab-panel, [data-panel]) :is(.actions, .practice-actions, .quiz-actions, .kw-actions) .btn{
  background: #fff !important;
  border-color: rgba(var(--instr-accent-rgb), .45) !important;
  color: rgba(var(--instr-accent-ink-rgb), .96) !important;
}

:is(.tab-panel, [data-panel]) :is(.actions, .practice-actions, .quiz-actions, .kw-actions) .btn:hover{
  background: rgba(var(--instr-accent-rgb), .08) !important;
  border-color: rgba(var(--instr-accent-rgb), .58) !important;
}

/* Reveal buttons follow section theme too */
:is(.tab-panel, [data-panel]) .kw-reveal{
  background: #fff !important;
  border-color: rgba(var(--instr-accent-rgb), .55) !important;
  color: rgba(var(--instr-accent-ink-rgb), .96) !important;
  box-shadow: none !important;
}

:is(.tab-panel, [data-panel]) .kw-reveal:hover{
  background: rgba(var(--instr-accent-rgb), .08) !important;
  border-color: rgba(var(--instr-accent-rgb), .62) !important;
  box-shadow: none !important;
}

:is(.tab-panel, [data-panel]) .kw-reveal::after{
  display: none !important;
}

/* Typography rules:
   - INSTRUCTIONS / EXAMPLE labels stay bold
   - instruction body text is normal
   - example bodies are italic (not bold) */
:is(.tab-panel, [data-panel]) :is(.card-p, .practice-instr-text, .writing-instr-text, .kw-instr-text, .h2kw-instr-text){
  font-weight: 400 !important;
  font-style: normal;
}

/* Reading: keep body copy after INSTRUCTIONS and reading text paragraphs non-bold. */
:is(.tab-panel, [data-panel]) .reading-instr-inline{
  font-weight: 400 !important;
}

:is(.tab-panel, [data-panel]) .reading-text-body{
  font-weight: 400 !important;
}

:is(.tab-panel, [data-panel]) .instr-example{
  font-weight: 400 !important;
  font-style: italic;
}

:is(.tab-panel, [data-panel]) .instr-example :is(strong, .h2kw-instr-label){
  font-weight: 900 !important;
  font-style: normal !important;
  color: rgba(var(--instr-accent-ink-rgb), .95) !important;
}

/* EXAMPLE label should follow the same accent color as INSTRUCTIONS. */
:is(.tab-panel, [data-panel]) :is(.instr-example-label, .h2kw-instr-label){
  font-weight: 900 !important;
  color: rgba(var(--instr-accent-ink-rgb), .95) !important;
}
