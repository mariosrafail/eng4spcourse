/* Global font imports */
@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap');

/* Global font defaults */
* { font-family: 'Comic Sans MS', 'Comic Sans', cursive; }
h1, h2, h3, h4, h5, h6, .unit-title, .module-focus-title, .card-title, .side-title, .kw-title, .reading-section-title, .writing-task-head {
  font-family: 'Comic Sans MS', 'Comic Sans', cursive;
}

/* ==========================================================================
   CSS Structure (order preserved to avoid cascade changes)
   1. Design tokens
   2. Base + a11y
   3. Topbar + hero
   4. Cards + common components
   5. Buttons + controls
   6. Exercises (quiz / options / feedback / modal)
   7. Left-tabs layout + tabs theming
   8. Module-specific sections (Focus, Keywords, Revision, Writing, Practice,
      Reading, Speaking, Hour 2)
   9. Global interaction/animation layer
   ======================================================================= */

/* Module 2 - Useful Language
   Offline friendly, no external fonts or libraries.
*/

/* ==========================================================================
   1) Design tokens
   ======================================================================= */
:root{
  --bg: #f7f4fa;
  --ambient-rgb: 122,103,201;
  --nav-accent-rgb: 122,103,201;
  --ambient-opacity: .24;
  --card: #ffffff;
  --ink: #1c1b22;
  --muted: #5a5568;

  --purple-700:#5f4aa7;
  --purple-600:#6b56b6;
  --purple-500:#7a67c9;
  --purple-200:#d9cff3;

  --blue-700:#2f4f8a;
  --blue-600:#3b63ad;
  --blue-500:#6f8fcb;
  --blue-200:#e7efff;
  --green-700:#2f6b57;
  --green-600:#3b7e66;
  --green-500:#4f8c74;
  --green-200:#e6f4ee;
  --olive-700:#556b3f;

  --burgundy-700:#7b3b52;
  --burgundy-600:#8c4a62;
  --burgundy-500:#a05b74;
  --burgundy-200:#f2dbe3;

  --line:#cdbfe8;
  --soft:#efe8ff;

  --ok:#1f7a4c;
  --bad:#b42318;
  --ok-strong:#12854d;
  --bad-strong:#d12a2a;

  --shadow: 0 12px 30px rgba(30,18,60,.10);
  --radius: 22px;
}

/* ==========================================================================
   2) Base + a11y
   ======================================================================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(120% 60% at 50% -10%, rgba(var(--ambient-rgb), .24), transparent 60%),
    radial-gradient(120% 60% at -10% 28%, rgba(var(--ambient-rgb), .12), transparent 60%),
    var(--bg);
  background-repeat: no-repeat;
  color:var(--ink);
  position: relative;
}

body::before{
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: .44;
  background:
    linear-gradient(rgba(var(--ambient-rgb), .22), rgba(var(--ambient-rgb), .22)),
    radial-gradient(95% 65% at 55% -12%, rgba(var(--ambient-rgb), .30), transparent 68%),
    radial-gradient(85% 55% at -12% 34%, rgba(var(--ambient-rgb), .18), transparent 66%),
    radial-gradient(80% 52% at 112% 72%, rgba(var(--ambient-rgb), .14), transparent 70%);
  transition: opacity .9s ease, background-color .9s ease;
  animation: ambientDrift 24s ease-in-out infinite alternate;
}

body.theme-shift::before{
  opacity: calc(var(--ambient-opacity) + .05);
}

.layout{
  position: relative;
  z-index: 1;
}

@keyframes ambientDrift{
  0%{ transform: translate3d(0, 0, 0) scale(1); }
  50%{ transform: translate3d(0, -1.2%, 0) scale(1.01); }
  100%{ transform: translate3d(.8%, 0, 0) scale(1.005); }
}

/* Accessibility and motion preferences */
:focus-visible{
  outline: 3px solid rgba(122,103,201,.45);
  outline-offset: 3px;
}

@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* ==========================================================================
   3) Topbar + hero
   ======================================================================= */

